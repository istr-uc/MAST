# If results file exists the test is not carried out

if  ! [ -f results/$2_$3_pa.txt  ]; then 

echo "-----"
echo testing $2 $1 "(w/ prio assignment)"
date
mast_analysis $1 -c -s -p $2.txt results/$2_$3_pa.txt
echo " " >> test_report
echo $"----------------------------------------------------------------------------" >> test_report
echo "                          " $2 $1 "(w/ prio assignment)" >> test_report

#check that pattern exists
if [ -f patterns/$2_$3_pa.txt  ]; then
   # If pattern exists the test results are compared to the pattern
   diff -I Generation_ patterns/$2_$3_pa.txt results/$2_$3_pa.txt >> test_report
   echo " " >> test_report
else
   # If pattern does not exist an error message is printed
   echo "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!" >> test_report
   echo Filename patterns/$2_$3_pa.txt "does not exist" >> test_report
   echo "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!" >> test_report
   echo "                          " $2 $1 >> test_report
fi

fi