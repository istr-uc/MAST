-- Processing Resources

Processing_Resource (
	Type 			=> Fixed_Priority_Processor,
	Name 			=> CPU_1,
        Max_Priority            => 250,
        Min_Priority            => 1,
        Max_Interrupt_Priority  => 300,
        Min_Interrupt_Priority  => 251);

-- Scheduling Servers


Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_1_1,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 90),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_1_2,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_Policy,
		The_Priority		=> 100),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_1_3,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_Policy,
		The_Priority		=> 150),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_1_4,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 110),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_2,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 130),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_3_1,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 30),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_3_2,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 60),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_3_3,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 40),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_4_1,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 100),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_4_2,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 50),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_4_3,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 120),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_5_1,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 10),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_5_2,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 40),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Task_5_3,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 20),
	Server_Processing_Resource	=> CPU_1);

Scheduling_Server (
	Type				=> Fixed_Priority,
	Name 				=> Sim_Block,
	Server_Sched_Parameters		=> (
		Type		=> Fixed_Priority_policy,
		The_Priority		=> 101),
	Server_Processing_Resource	=> CPU_1);


-- Operations

Operation (
	Type 				=> Simple,
	Name 				=> a_1_1,
	Worst_Case_Execution_Time 	=> 12);

Operation (
	Type 				=> Simple,
	Name 				=> a_1_2,
	Worst_Case_Execution_Time 	=> 10);

Operation (
	Type 				=> Simple,
	Name 				=> a_1_3,
	Worst_Case_Execution_Time 	=> 8);

Operation (
	Type 				=> Simple,
	Name 				=> a_1_4,
	Worst_Case_Execution_Time 	=> 6);

Operation (
	Type 				=> Simple,
	Name 				=> a_2,
	Worst_Case_Execution_Time 	=> 18);

Operation (
	Type 				=> Simple,
	Name 				=> a_3_1,
	Worst_Case_Execution_Time 	=> 12);

Operation (
	Type 				=> Simple,
	Name 				=> a_3_2,
	Worst_Case_Execution_Time 	=> 10);

Operation (
	Type 				=> Simple,
	Name 				=> a_3_3,
	Worst_Case_Execution_Time 	=> 14);

Operation (
	Type 				=> Simple,
	Name 				=> a_4_1,
	Worst_Case_Execution_Time 	=> 13);

Operation (
	Type 				=> Simple,
	Name 				=> a_4_2,
	Worst_Case_Execution_Time 	=> 7);

Operation (
	Type 				=> Simple,
	Name 				=> a_4_3,
	Worst_Case_Execution_Time 	=> 5);

Operation (
	Type 				=> Simple,
	Name 				=> a_5_1,
	Worst_Case_Execution_Time 	=> 7);

Operation (
	Type 				=> Simple,
	Name 				=> a_5_2,
	Worst_Case_Execution_Time 	=> 14);

Operation (
	Type 				=> Simple,
	Name 				=> a_5_3,
	Worst_Case_Execution_Time 	=> 21);

Operation (
	Type 				=> Simple,
	Name 				=> Sim_Block,
	Worst_Case_Execution_Time 	=> 40);

-- Transactions

Transaction (
	Type	=> Regular,
	Name	=> T_1,
	External_Events => (
		(Type 	=> Periodic,
		 Name 	=> E1,
		 Period => 100)),
	Internal_Events => (
		(Type 	=> regular,
		 name 	=> I11),
		(Type 	=> regular,
		 name 	=> I12),
		(Type 	=> regular,
		 name 	=> I13),
		(Type 	=> regular,
		 name 	=> O1,
                 Timing_Requirements => (
			 Type 		  => Hard_Global_Deadline,
			 Deadline 	  => 100,
			 referenced_event => E1))),
	Event_Handlers => (
		(Type 			=> Activity,
		 Input_Event 		=> E1,
		 Output_Event 		=> I11,
		 Activity_Operation 	=> a_1_1,
		 Activity_Server	=> task_1_1),
		(Type 			=> Activity,
		 Input_Event 		=> I11,
		 Output_Event 		=> I12,
		 Activity_Operation 	=> a_1_2,
		 Activity_Server	=> task_1_2),
		(Type 			=> Activity,
		 Input_Event 		=> I12,
		 Output_Event 		=> I13,
		 Activity_Operation 	=> a_1_3,
		 Activity_Server	=> task_1_3),
		(Type 			=> Activity,
		 Input_Event 		=> I13,
		 Output_Event 		=> O1,
		 Activity_Operation 	=> a_1_4,
		 Activity_Server	=> task_1_4)));

Transaction (
	Type	=> Regular,
	Name	=> T_2,
	External_Events => (
		(Type 		=> Periodic,
		 Name 		=> E2,
		 Period 	=> 150)),
	Internal_Events => (
		(Type 	=> regular,
		 name 	=> O2,
                 Timing_Requirements => (
			 Type 		  => Hard_Global_Deadline,
			 Deadline 	  => 150,
			 referenced_event => E2))),
	Event_Handlers => (
		(Type 			=> Activity,
		 Input_Event 		=> E2,
		 Output_Event 		=> O2,
		 Activity_Operation 	=> a_2,
		 Activity_Server	=> Task_2)));


Transaction (
	Type	=> Regular,
	Name	=> T_3,
	External_Events => (
		(Type 	=> Periodic,
		 Name 	=> E3,
		 Period => 200)),
	Internal_Events => (
		(Type 	=> regular,
		 name 	=> I31),
		(Type 	=> regular,
		 name 	=> I32),
		(Type 	=> regular,
		 name 	=> O3,
                 Timing_Requirements => (
			 Type 		  => Hard_Global_Deadline,
			 Deadline 	  => 200,
			 referenced_event => E3))),
	Event_Handlers => (
		(Type 			=> Activity,
		 Input_Event 		=> E3,
		 Output_Event 		=> I31,
		 Activity_Operation 	=> a_3_1,
		 Activity_Server	=> task_3_1),
		(Type 			=> Activity,
		 Input_Event 		=> I31,
		 Output_Event 		=> I32,
		 Activity_Operation 	=> a_3_2,
		 Activity_Server	=> task_3_2),
		(Type 			=> Activity,
		 Input_Event 		=> I32,
		 Output_Event 		=> O3,
		 Activity_Operation 	=> a_3_3,
		 Activity_Server	=> task_3_3)));

Transaction (
	Type	=> Regular,
	Name	=> T_4,
	External_Events => (
		(Type 	=> Periodic,
		 Name 	=> E4,
		 Period => 325)),
	Internal_Events => (
		(Type 	=> regular,
		 name 	=> I41),
		(Type 	=> regular,
		 name 	=> I42),
		(Type 	=> regular,
		 name 	=> O4,
                 Timing_Requirements => (
			 Type 		  => Hard_Global_Deadline,
			 Deadline 	  => 325,
			 referenced_event => E4))),
	Event_Handlers => (
		(Type 			=> Activity,
		 Input_Event 		=> E4,
		 Output_Event 		=> I41,
		 Activity_Operation 	=> a_4_1,
		 Activity_Server	=> task_4_1),
		(Type 			=> Activity,
		 Input_Event 		=> I41,
		 Output_Event 		=> I42,
		 Activity_Operation 	=> a_4_2,
		 Activity_Server	=> task_4_2),
		(Type 			=> Activity,
		 Input_Event 		=> I42,
		 Output_Event 		=> O4,
		 Activity_Operation 	=> a_4_3,
		 Activity_Server	=> task_4_3)));

Transaction (
	Type	=> Regular,
	Name	=> T_5,
	External_Events => (
		(Type 	=> Periodic,
		 Name 	=> E5,
		 Period => 350)),
	Internal_Events => (
		(Type 	=> regular,
		 name 	=> I51),
		(Type 	=> regular,
		 name 	=> I52),
		(Type 	=> regular,
		 name 	=> O5,
                 Timing_Requirements => (
			 Type 		  => Hard_Global_Deadline,
			 Deadline 	  => 350,
			 referenced_event => E5))),
	Event_Handlers => (
		(Type 			=> Activity,
		 Input_Event 		=> E5,
		 Output_Event 		=> I51,
		 Activity_Operation 	=> a_5_1,
		 Activity_Server	=> task_5_1),
		(Type 			=> Activity,
		 Input_Event 		=> I51,
		 Output_Event 		=> I52,
		 Activity_Operation 	=> a_5_2,
		 Activity_Server	=> task_5_2),
		(Type 			=> Activity,
		 Input_Event 		=> I52,
		 Output_Event 		=> O5,
		 Activity_Operation 	=> a_5_3,
		 Activity_Server	=> task_5_3)));

Transaction (
	Type	=> Regular,
	Name	=> Simulate_Blocking,
	External_Events => (
		(Type 		=> Singular,
		 Name 		=> ES)),
	Internal_Events => (
		(Type 	=> regular,
		 name 	=> OS)),
	Event_Handlers => (
		(Type 			=> Activity,
		 Input_Event 		=> ES,
		 Output_Event 		=> OS,
		 Activity_Operation 	=> Sim_Block,
		 Activity_Server	=> Sim_Block)));

